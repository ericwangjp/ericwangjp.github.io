(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4deff038"],{"0375":function(t,e,s){"use strict";s("76db")},"11ea":function(t,e,s){},"159b":function(t,e,s){var n=s("da84"),o=s("fdbc"),i=s("17c2"),a=s("9112");for(var r in o){var c=n[r],l=c&&c.prototype;if(l&&l.forEach!==i)try{a(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,e,s){"use strict";var n=s("b727").forEach,o=s("a640"),i=o("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"341b":function(t,e,s){},"3b51":function(t,e,s){"use strict";s("341b")},"44e7":function(t,e,s){var n=s("861d"),o=s("c6b6"),i=s("b622"),a=i("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},4827:function(t,e,s){"use strict";s("e6b4")},"4a58":function(t,e,s){},"4d63":function(t,e,s){var n=s("83ab"),o=s("da84"),i=s("94ca"),a=s("7156"),r=s("9112"),c=s("9bf2").f,l=s("241c").f,u=s("44e7"),d=s("ad6d"),f=s("9f7f"),m=s("6eeb"),p=s("d039"),h=s("5135"),v=s("69f3").enforce,g=s("2626"),b=s("b622"),_=s("fce3"),C=s("107c"),y=b("match"),w=o.RegExp,O=w.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,x=/a/g,I=/a/g,P=new w(x)!==x,j=f.UNSUPPORTED_Y,E=n&&(!P||j||_||C||p((function(){return I[y]=!1,w(x)!=x||w(I)==I||"/a/i"!=w(x,"i")}))),$=function(t){for(var e,s=t.length,n=0,o="",i=!1;n<=s;n++)e=t.charAt(n),"\\"!==e?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+t.charAt(++n);return o},S=function(t){for(var e,s=t.length,n=0,o="",i=[],a={},r=!1,c=!1,l=0,u="";n<=s;n++){if(e=t.charAt(n),"\\"===e)e+=t.charAt(++n);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:k.test(t.slice(n+1))&&(n+=2,c=!0),o+=e,l++;continue;case">"===e&&c:if(""===u||h(a,u))throw new SyntaxError("Invalid capture group name");a[u]=!0,i.push([u,l]),c=!1,u="";continue}c?u+=e:o+=e}return[o,i]};if(i("RegExp",E)){for(var D=function(t,e){var s,n,o,i,c,l,f=this instanceof D,m=u(t),p=void 0===e,h=[],g=t;if(!f&&m&&p&&t.constructor===D)return t;if((m||t instanceof D)&&(t=t.source,p&&(e="flags"in g?g.flags:d.call(g))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),g=t,_&&"dotAll"in x&&(n=!!e&&e.indexOf("s")>-1,n&&(e=e.replace(/s/g,""))),s=e,j&&"sticky"in x&&(o=!!e&&e.indexOf("y")>-1,o&&(e=e.replace(/y/g,""))),C&&(i=S(t),t=i[0],h=i[1]),c=a(w(t,e),f?this:O,D),(n||o||h.length)&&(l=v(c),n&&(l.dotAll=!0,l.raw=D($(t),s)),o&&(l.sticky=!0),h.length&&(l.groups=h)),t!==g)try{r(c,"source",""===g?"(?:)":g)}catch(b){}return c},L=function(t){t in D||c(D,t,{configurable:!0,get:function(){return w[t]},set:function(e){w[t]=e}})},T=l(w),Y=0;T.length>Y;)L(T[Y++]);O.constructor=D,D.prototype=O,m(o,"RegExp",D)}g("RegExp")},"4de4":function(t,e,s){"use strict";var n=s("23e7"),o=s("b727").filter,i=s("1dde"),a=i("filter");n({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"506c":function(t,e,s){},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s("b64b"),s("a4d3"),s("4de4"),s("e439"),s("159b"),s("dbb4");function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},6728:function(t,e,s){"use strict";s("cfba")},"6b7f":function(t,e,s){},"76db":function(t,e,s){},"7f2e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("detail-nav",{ref:"detailNav",on:{navTitleClick:t.titleClick}}),s("scroll-view",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll,data:t.data},on:{scroll:t.scroll}},[s("detail-swiper",{staticClass:"swiper",attrs:{banners:t.banners},on:{swiperImgLoad:t.goodsImageLoad}}),s("goods-info",{attrs:{goods:t.goods}}),s("shop-info",{attrs:{shop:t.shop}}),s("goods-desc",{attrs:{"detail-info":t.detailInfo},on:{detailImgLoad:t.goodsImageLoad}}),s("goods-params",{ref:"params",attrs:{"goods-params":t.goodsParams}}),s("detail-comment",{ref:"comment",attrs:{commentInfo:t.commentInfo},on:{recommendImgLoad:t.goodsImageLoad}}),s("goods-list",{ref:"recommend",attrs:{goodsList:t.recommend}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],nativeOn:{click:function(e){return t.backTop.apply(null,arguments)}}}),s("detail-bottom-bar",{on:{addToCar:t.addToCar}})],1)},o=[],i=s("5530");s("a9e3");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s("b0c0");var r=s("1bab");function c(t){return Object(r["a"])({url:"/detail",params:{iid:t}})}function l(){return Object(r["a"])({url:"/recommend"})}var u=function t(e,s,n){a(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.lowPrice=e.lowNowPrice,this.discountDesc=e.discountDesc,this.discountBgColor=e.discountBgColor,this.columns=s,this.services=n,this.oldPrice=e.oldPrice},d=function t(e){a(this,t),this.logo=e.shopLogo,this.name=e.name,this.fans=e.cFans,this.sells=e.cSells,this.score=e.score,this.goodsCount=e.cGoods},f=function t(e,s){a(this,t),this.image=e.images?e.images[0]:"",this.infos=e.set,this.sizes=s.tables},m=s("eecb");s("ac1f"),s("5319"),s("4d63"),s("25f0");function p(t,e){var s=null;return function(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];s&&clearTimeout(s),s=setTimeout((function(){t.apply(n,i)}),e)}}function h(t,e){var s=new Date(e),n={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("(".concat(o,")")).test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}var v=s("2f62"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar",[n("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.clickBack},slot:"left"},[n("img",{attrs:{src:s("a11e"),alt:""}})]),n("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},t._l(t.titles,(function(e,s){return n("div",{key:s,staticClass:"title-item",class:{active:s==t.curIndex},on:{click:function(e){return t.titleClick(s)}}},[t._v(" "+t._s(e)+" ")])})),0)])],1)},b=[],_=s("125c"),C={components:{NavBar:_["a"]},data:function(){return{titles:["商品","参数","评论","推荐"],curIndex:0}},computed:{},methods:{titleClick:function(t){this.curIndex=t,this.$emit("navTitleClick",t)},clickBack:function(){this.$router.back()}},created:function(){},mounted:function(){}},y=C,w=(s("3b51"),s("2877")),O=Object(w["a"])(y,g,b,!1,null,"91b8b422",null),k=O.exports,x=s("9285"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper"},[s("slider",{ref:"slider",attrs:{options:t.options}},[t._l(t.banners,(function(e,n){return s("slideritem",{key:n,staticClass:"swiper-item"},[s("img",{attrs:{src:e,alt:""},on:{load:t.swiperImgLoad}})])})),s("div",{attrs:{slot:"loading"},slot:"loading"},[t._v("loading...")])],2)],1)},P=[],j=(s("d3b7"),s("b190")),E={props:{banners:{type:Array,default:function(){return[]}}},components:{slider:j["slider"],slideritem:j["slideritem"]},data:function(){return{options:{currentPage:0,thresholdDistance:500,thresholdTime:100,autoplay:1500,loop:!0,direction:"horizontal",loopedSlides:1,slidesToScroll:1,timingFunction:"ease",speed:300,preventDocumentMove:!0,isLoad:!1}}},filters:{httpPrefix:function(t){return t&&0!==t.toString().indexOf("http")?"http:"+t:t}},computed:{},methods:{swiperImgLoad:function(){this.isLoad||(this.$emit("swiperImgLoad"),this.isLoad=!0)}},created:function(){},mounted:function(){}},$=E,S=(s("9d24"),Object(w["a"])($,I,P,!1,null,"53cd7538",null)),D=S.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-top"},[s("img",{attrs:{src:t.shop.logo,alt:""}}),s("span",{staticClass:"title"},[t._v(t._s(t.shop.name))])]),s("div",{staticClass:"shop-middle"},[s("div",{staticClass:"shop-middle-left shop-middle-item"},[s("div",{staticClass:"info-sells"},[s("div",{staticClass:"sells-count"},[t._v(t._s(t._f("sellsFilter")(t.shop.sells)))]),s("div",{staticClass:"sells-text"},[t._v("总销量")])]),s("div",{staticClass:"info-goods"},[s("div",{staticClass:"goods-count"},[t._v(t._s(t.shop.goodsCount))]),s("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-middle-right shop-middle-item"},[s("table",t._l(t.shop.score,(function(e,n){return s("tr",{key:n},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:[e.isBetter?"red":"green"]},[t._v(" "+t._s(e.score)+" ")]),s("td",{staticClass:"better",style:{backgroundColor:e.isBetter?"#ff4300":"#2cbb5c"}},[t._v(" "+t._s(e.isBetter?"高":"低")+" ")])])})),0)])])])},T=[],Y={props:{shop:{type:Object,default:function(){return{}}}},filters:{sellsFilter:function(t){return t?t/1e4+"万":""}},components:{},data:function(){return{}},computed:{},methods:{},created:function(){},mounted:function(){}},B=Y,A=(s("4827"),Object(w["a"])(B,L,T,!1,null,"f8046e18",null)),R=A.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goods).length?s("div",{staticClass:"goods-info"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.goods.title))]),s("div",{staticClass:"info-price"},[s("span",{staticClass:"n-price"},[t._v(t._s(t.goods.newPrice))]),s("span",{staticClass:"o-price"},[t._v(t._s(t.goods.oldPrice))]),s("span",{staticClass:"discount",style:{backgroundColor:t.goods.discountBgColor}},[t._v(t._s(t.goods.discountDesc))])]),s("div",{staticClass:"info-other"},t._l(t.goods.columns,(function(e,n){return s("span",{key:n},[t._v(t._s(e))])})),0),s("div",{staticClass:"info-servive"},t._l(t.goods.services,(function(e,n){return s("span",{key:n,staticClass:"info-service-item"},[s("img",{attrs:{src:e.icon,alt:""}}),s("span",[t._v(t._s(e.name))])])})),0)]):t._e()},M=[],z={props:{goods:{type:Object,default:function(){return{}}}},components:{},data:function(){return{}},computed:{},methods:{},created:function(){},mounted:function(){}},F=z,G=(s("6728"),Object(w["a"])(F,N,M,!1,null,"12cc6070",null)),U=G.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-info"},[s("div",{staticClass:"top-desc"},[t._v(t._s(t.detailInfo.desc))]),t._l(t.detailList,(function(e,n){return s("div",{key:n,staticClass:"detail"},[s("div",{staticClass:"type"},[t._v(t._s(e.key))]),s("div",{staticClass:"desc"},[t._v(t._s(e.desc))]),t._l(e.list,(function(e,n){return s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],key:n,attrs:{alt:""},on:{load:t.imgLoad}})}))],2)}))],2)},V=[],H=s("2909"),X={props:{detailInfo:{type:Object,default:function(){return{}}}},components:{},data:function(){return{}},computed:{detailList:function(){return this.detailInfo.detailImage?Object(H["a"])(this.detailInfo.detailImage).reverse():[]}},watch:{},methods:{imgLoad:function(){this.$emit("detailImgLoad")}},destroyed:function(){},created:function(){},mounted:function(){}},q=X,K=(s("98f1"),Object(w["a"])(q,J,V,!1,null,"6d166c21",null)),Q=K.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return Object.keys(t.goodsParams).length>0?s("div",{staticClass:"goods-params"},[t._l(t.goodsParams.sizes,(function(e,n){return s("table",{key:n,staticClass:"size"},t._l(e,(function(e,n){return s("tr",{key:n},t._l(e,(function(e,n){return s("td",{key:n},[t._v(" "+t._s(e)+" ")])})),0)})),0)})),s("table",{staticClass:"property"},t._l(t.goodsParams.infos,(function(e,n){return s("tr",{key:n},[s("td",{staticClass:"td-key"},[t._v(t._s(e.key))]),s("td",{staticClass:"td-color"},[t._v(t._s(e.value))])])})),0),0!==t.goodsParams.image.length?s("div",{staticClass:"params-img"},[s("img",{attrs:{src:t.goodsParams.image,alt:""}})]):t._e()],2):t._e()},Z=[],tt={props:{goodsParams:{type:Object,default:function(){return{}}}},components:{},data:function(){return{}},computed:{},methods:{},created:function(){},mounted:function(){}},et=tt,st=(s("fee8"),Object(w["a"])(et,W,Z,!1,null,"67f261c7",null)),nt=st.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-comment"},[t._m(0),t._l(t.commentInfo,(function(e){return s("div",{key:e.user.uname,staticClass:"comment"},[s("div",{staticClass:"title"},[s("img",{staticClass:"avatar",attrs:{src:e.user.avatar,alt:""}}),s("span",{staticClass:"uname"},[t._v(t._s(e.user.uname))])]),s("div",{staticClass:"content"},[t._v(t._s(e.content))]),s("div",{staticClass:"date"},[s("span",[t._v(t._s(t._f("formatDate")(e.created)))]),s("span",{staticClass:"sel-style"},[t._v(t._s(e.style))])]),s("div",{staticClass:"images"},t._l(e.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0),s("div",{staticClass:"extra"},t._l(e.extraInfo,(function(e){return s("span",{key:e},[t._v(t._s(e))])})),0)])}))],2)},it=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-title"},[s("span",[t._v("用户评价")]),s("span",[t._v("更多 >")])])}],at={props:{commentInfo:{type:Array,default:function(){return[]}}},components:{},data:function(){return{}},filters:{formatDate:function(t){return h("yyyy-MM-dd",1e3*t)}},computed:{},methods:{},created:function(){},mounted:function(){}},rt=at,ct=(s("b808"),Object(w["a"])(rt,ot,it,!1,null,"3a66cb60",null)),lt=ct.exports,ut=s("3d59"),dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-bar"},[t._m(0),s("div",{staticClass:"right"},[s("div",{staticClass:"car",on:{click:t.addCar}},[t._v("加入购物车")]),s("div",{staticClass:"buy"},[t._v("购买")])])])},ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("div",[s("i",{staticClass:"icon service"}),s("span",{staticClass:"text"},[t._v("客服")])]),s("div",[s("i",{staticClass:"icon shop"}),s("span",{staticClass:"text"},[t._v("店铺")])]),s("div",[s("i",{staticClass:"icon collect"}),s("span",{staticClass:"text"},[t._v("收藏")])])])}],mt={name:"DetailBottomBar",methods:{addCar:function(){this.$emit("addToCar")}}},pt=mt,ht=(s("95b6"),Object(w["a"])(pt,dt,ft,!1,null,"08044602",null)),vt=ht.exports,gt={name:"Detail",components:{DetailBottomBar:vt,DetailNav:k,ScrollView:x["a"],DetailSwiper:D,ShopInfo:R,GoodsInfo:U,GoodsDesc:Q,GoodsParams:nt,DetailComment:lt,GoodsList:ut["a"]},data:function(){return{id:"",data:[],banners:[],goods:{},shop:{},detailInfo:{},goodsParams:{},commentInfo:[],recommend:[],titleScrollY:[],getOffsetY:null,probeType:3,listenScroll:!0,curIdx:0}},computed:{},methods:Object(i["a"])(Object(i["a"])({},Object(v["b"])(["addCar"])),{},{addToCar:function(){var t=this,e={};e.image=this.banners[0],e.title=this.goods.title,e.desc=this.goods.desc,e.price=this.goods.newPrice,e.lowPrice=this.goods.lowPrice,e.id=this.id,this.addCar(e).then((function(e){console.log(e),t.$toast.showToast("添加到购物车成功",2e3)}))},titleClick:function(t){this.$refs.scroll.scrollTo(0,-this.titleScrollY[t],200)},goodsImageLoad:function(){this.getOffsetY()},scroll:function(t){this.listenBackScroll(t);for(var e=-t.y,s=0;s<this.titleScrollY.length-1;s++)this.curIdx!==s&&e>=this.titleScrollY[s]&&e<this.titleScrollY[s+1]&&(this.curIdx=s,this.$refs.detailNav.curIndex=this.curIdx)}}),mixins:[m["a"]],created:function(){var t=this;this.id=this.$route.params.id,c(this.id).then((function(e){t.banners=e.result.itemInfo.topImages,t.goods=new u(e.result.itemInfo,e.result.columns,e.result.shopInfo.services),t.shop=new d(e.result.shopInfo),t.detailInfo=e.result.detailInfo,t.goodsParams=new f(e.result.itemParams.info,e.result.itemParams.rule),0!==e.result.rate.cRate&&(t.commentInfo=e.result.rate.list)})),l().then((function(e){t.recommend=e.data.list})),this.getOffsetY=p((function(){t.titleScrollY=[],t.$refs.params&&t.$refs.params.$el&&(t.titleScrollY.push(0),t.titleScrollY.push(t.$refs.params.$el.offsetTop),t.titleScrollY.push(t.$refs.comment.$el.offsetTop),t.titleScrollY.push(t.$refs.recommend.$el.offsetTop),t.titleScrollY.push(Number.MAX_VALUE)),console.log(t.titleScrollY)}),1e3)},mounted:function(){}},bt=gt,_t=(s("0375"),Object(w["a"])(bt,n,o,!1,null,"96e48a18",null));e["default"]=_t.exports},"95b6":function(t,e,s){"use strict";s("11ea")},"98f1":function(t,e,s){"use strict";s("9b3c")},"9b3c":function(t,e,s){},"9d24":function(t,e,s){"use strict";s("6b7f")},a11e:function(t,e,s){t.exports=s.p+"img/back.26df9036.svg"},a640:function(t,e,s){"use strict";var n=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&n((function(){s.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,s){var n=s("23e7"),o=s("7b0b"),i=s("df75"),a=s("d039"),r=a((function(){i(1)}));n({target:"Object",stat:!0,forced:r},{keys:function(t){return i(o(t))}})},b808:function(t,e,s){"use strict";s("506c")},cfba:function(t,e,s){},dbb4:function(t,e,s){var n=s("23e7"),o=s("83ab"),i=s("56ef"),a=s("fc6a"),r=s("06cf"),c=s("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,s,n=a(t),o=r.f,l=i(n),u={},d=0;while(l.length>d)s=o(n,e=l[d++]),void 0!==s&&c(u,e,s);return u}})},e439:function(t,e,s){var n=s("23e7"),o=s("d039"),i=s("fc6a"),a=s("06cf").f,r=s("83ab"),c=o((function(){a(1)})),l=!r||c;n({target:"Object",stat:!0,forced:l,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},e6b4:function(t,e,s){},fee8:function(t,e,s){"use strict";s("4a58")}}]);
//# sourceMappingURL=chunk-4deff038.494878ae.js.map