(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60123d37"],{"1f5f":function(t,e,s){},"25ec":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,n){return s("div",{key:n,staticClass:"tab-control-item",on:{click:function(e){return t.clickHandle(n)}}},[s("span",{class:{active:t.curIdx==n}},[t._v(t._s(e))])])})),0)},o=[],i={props:{titles:{type:Array,default:function(){return[]}}},components:{},data:function(){return{curIdx:0}},computed:{},methods:{clickHandle:function(t){this.curIdx=t,this.$emit("tabClick",t)}},created:function(){},mounted:function(){}},a=i,r=(s("7971"),s("2877")),c=Object(r["a"])(a,n,o,!1,null,"7970590b",null);e["a"]=c.exports},3211:function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpeg"},"3e01":function(t,e,s){"use strict";s("ce23")},"4bb7":function(t,e,s){"use strict";s("6e10")},"6e10":function(t,e,s){},7971:function(t,e,s){"use strict";s("1f5f")},8271:function(t,e,s){t.exports=s.p+"img/placeholder4x3.831d959f.png"},a4bc:function(t,e,s){},b3d7:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("nav-bar",{staticClass:"home-nav"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),s("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixVisible,expression:"isTabFixVisible"}],ref:"tabNav",staticClass:"tabFixed",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),s("scroll-view",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{data:t.data,"listen-scroll":t.listenScroll,"probe-type":t.probeType,pulldown:t.pulldown,pullup:t.pullup},on:{pulldown:t.pullDown,pullUp:t.pullUp,scroll:t.scroll}},[s("home-swiper",{staticClass:"swiper",attrs:{banners:t.banners},on:{swiperImgLoad:t.swiperImgLoad}}),s("recommend-view",{attrs:{recommends:t.recommends}}),s("fashion"),s("tab-control",{ref:"tabControl",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),s("goods-list",{attrs:{goodsList:t.showType}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],nativeOn:{click:function(e){return t.backTop.apply(null,arguments)}}})],1)},o=[],i=s("2909"),a=s("1bab");function r(){return Object(a["a"])({url:"/home/multidata"})}function c(t,e){return Object(a["a"])({url:"/home/data",params:{type:t,page:e}})}var l=s("eecb"),u=s("125c"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper"},[n("slider",{ref:"slider",attrs:{options:t.options}},[t._l(t.banners,(function(e,s){return n("slideritem",{key:s},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""},on:{load:t.swiperImgLoad}})])])})),n("div",{attrs:{slot:"loading"},slot:"loading"},[n("img",{attrs:{src:s("8271")}})])],2)],1)},p=[],f=(s("d3b7"),s("25f0"),s("b190")),m={props:{banners:{type:Array,default:function(){return[]}}},components:{slider:f["slider"],slideritem:f["slideritem"]},data:function(){return{options:{currentPage:0,thresholdDistance:500,thresholdTime:100,autoplay:1500,loop:!0,direction:"horizontal",loopedSlides:1,slidesToScroll:1,timingFunction:"ease",speed:300,preventDocumentMove:!0,isLoad:!1}}},filters:{httpPrefix:function(t){return t&&0!=t.toString().indexOf("http")?"http:"+t:t}},computed:{},methods:{swiperImgLoad:function(){this.isLoad||(this.$emit("swiperImgLoad"),this.isLoad=!0)}},created:function(){},mounted:function(){}},h=m,b=(s("e837"),s("2877")),g=Object(b["a"])(h,d,p,!1,null,"c41dac08",null),v=g.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},t._l(t.recommends,(function(e,n){return s("div",{key:n,staticClass:"item"},[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image,alt:""},on:{load:t.recommendsImg}}),s("div",[t._v(t._s(e.title))])])])})),0)},y=[],k={props:{recommends:{type:Array,default:function(){return[]}}},components:{},data:function(){return{}},computed:{},methods:{recommendsImg:function(){this.$emit("recommendImgLoad")}},created:function(){},mounted:function(){}},x=k,$=(s("4bb7"),Object(b["a"])(x,w,y,!1,null,"531013d9",null)),_=$.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fashion"},[n("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[n("img",{attrs:{src:s("3211"),alt:""}})])])}],T={components:{},data:function(){return{}},computed:{},methods:{},created:function(){},mounted:function(){}},I=T,S=(s("3e01"),Object(b["a"])(I,C,L,!1,null,"151cfaf4",null)),O=S.exports,j=s("25ec"),H=s("3d59"),F=s("9285"),D={components:{NavBar:u["a"],HomeSwiper:v,RecommendView:_,Fashion:O,TabControl:j["a"],GoodsList:H["a"],ScrollView:F["a"]},data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},type:"pop",data:[],pullup:!0,pulldown:!0,listenScroll:!0,probeType:3,tabOffsetTop:0,isTabFixVisible:!1,saveY:0}},computed:{showType:function(){return this.goods[this.type].list}},methods:{tabClick:function(t){switch(t){case 0:this.type="pop";break;case 1:this.type="new";break;case 2:this.type="sell";break;default:break}this.$refs.tabControl.curIdx=this.$refs.tabNav.curIdx=t},scroll:function(t){this.listenBackScroll(t),this.isTabFixVisible=t.y<=-this.offsetTop},pullUp:function(){console.log("上拉加载更多"),this.getHomeGoodsList(this.type)},pullDown:function(){console.log("下拉刷新")},swiperImgLoad:function(){this.offsetTop=this.$refs.tabControl.$el.offsetTop},getHomeBannerData:function(){var t=this;r().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list})).catch((function(t){console.log(t)}))},getHomeGoodsList:function(t){var e=this;this.type=t;var s=this.goods[t].page+1;c(t,s).then((function(s){var n;(n=e.goods[t].list).push.apply(n,Object(i["a"])(s.data.list)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))}},mixins:[l["a"]],created:function(){this.getHomeBannerData(),this.getHomeGoodsList("pop"),this.getHomeGoodsList("new"),this.getHomeGoodsList("sell")},mounted:function(){},activated:function(){this.$refs.scroll.scrollTo(0,this.saveY),this.$refs.slider&&this.$refs.slider.$emit("autoplayStart",1500)},deactivated:function(){this.saveY=this.$refs.scroll.getScrollY(),this.$refs.slider&&this.$refs.slider.$emit("autoplayStop")}},E=D,G=(s("ea44"),Object(b["a"])(E,n,o,!1,null,"40de2802",null));e["default"]=G.exports},ce23:function(t,e,s){},e837:function(t,e,s){"use strict";s("f92f")},ea44:function(t,e,s){"use strict";s("a4bc")},f92f:function(t,e,s){}}]);
//# sourceMappingURL=chunk-60123d37.877bb219.js.map